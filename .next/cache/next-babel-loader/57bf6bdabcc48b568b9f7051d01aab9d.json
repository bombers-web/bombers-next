{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"/Users/elbgi/Desktop/bombers/frontend/pages/index.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport { Flex, Box, Grid, SimpleGrid } from \"@chakra-ui/layout\";\nimport React, { useState, useEffect } from \"react\";\nimport Articles from \"../components/articles\";\nimport Card from \"../components/card\";\nimport Hero from \"../components/hero\";\nimport Layout from \"../components/layout\";\nimport Seo from \"../components/seo\";\n\nvar Home = function Home(_ref) {\n  _s();\n\n  var articles = _ref.articles,\n      categories = _ref.categories,\n      homepage = _ref.homepage,\n      games = _ref.games;\n  console.log({\n    games: games\n  });\n\n  var _useState = useState(articles[articles.length - 1]),\n      latestArticle = _useState[0],\n      setLatestArticle = _useState[1];\n\n  useEffect(function () {\n    setLatestArticle(articles[articles.length - 1]);\n  }, [articles]);\n  console.log({\n    latestArticle: latestArticle,\n    games: games,\n    articles: articles\n  });\n  return __jsx(Layout, {\n    categories: categories,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 5\n    }\n  }, __jsx(Seo, {\n    seo: homepage.seo,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 7\n    }\n  }), __jsx(Hero, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 7\n    }\n  }), __jsx(SimpleGrid, {\n    columns: \"2\",\n    spacing: 8,\n    m: \"16\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 7\n    }\n  }, __jsx(Card, {\n    article: latestArticle,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 9\n    }\n  }), \";\", __jsx(SimpleGrid, {\n    columns: \"1\",\n    spacing: 4,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 9\n    }\n  }, games === null || games === void 0 ? void 0 : games.map(function (game) {\n    __jsx(Card, {\n      article: game,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 13\n      }\n    });\n  }))));\n};\n\n_s(Home, \"xAHK64RpWeo1h3I6rtNJIXg5SoU=\");\n\n_c = Home;\nexport var __N_SSG = true;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["/Users/elbgi/Desktop/bombers/frontend/pages/index.js"],"names":["Flex","Box","Grid","SimpleGrid","React","useState","useEffect","Articles","Card","Hero","Layout","Seo","Home","articles","categories","homepage","games","console","log","length","latestArticle","setLatestArticle","seo","map","game"],"mappings":";;;;;AAAA,SAASA,IAAT,EAAeC,GAAf,EAAoBC,IAApB,EAA0BC,UAA1B,QAA4C,mBAA5C;AACA,OAAOC,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,QAAP,MAAqB,wBAArB;AACA,OAAOC,IAAP,MAAiB,oBAAjB;AACA,OAAOC,IAAP,MAAiB,oBAAjB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,GAAP,MAAgB,mBAAhB;;AAGA,IAAMC,IAAI,GAAG,SAAPA,IAAO,OAA+C;AAAA;;AAAA,MAA5CC,QAA4C,QAA5CA,QAA4C;AAAA,MAAlCC,UAAkC,QAAlCA,UAAkC;AAAA,MAAtBC,QAAsB,QAAtBA,QAAsB;AAAA,MAAZC,KAAY,QAAZA,KAAY;AAC1DC,EAAAA,OAAO,CAACC,GAAR,CAAY;AAAEF,IAAAA,KAAK,EAALA;AAAF,GAAZ;;AACA,kBAA0CX,QAAQ,CAChDQ,QAAQ,CAACA,QAAQ,CAACM,MAAT,GAAkB,CAAnB,CADwC,CAAlD;AAAA,MAAOC,aAAP;AAAA,MAAsBC,gBAAtB;;AAGAf,EAAAA,SAAS,CAAC,YAAM;AACde,IAAAA,gBAAgB,CAACR,QAAQ,CAACA,QAAQ,CAACM,MAAT,GAAkB,CAAnB,CAAT,CAAhB;AACD,GAFQ,EAEN,CAACN,QAAD,CAFM,CAAT;AAIAI,EAAAA,OAAO,CAACC,GAAR,CAAY;AAAEE,IAAAA,aAAa,EAAbA,aAAF;AAAiBJ,IAAAA,KAAK,EAALA,KAAjB;AAAwBH,IAAAA,QAAQ,EAARA;AAAxB,GAAZ;AACA,SACE,MAAC,MAAD;AAAQ,IAAA,UAAU,EAAEC,UAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,GAAD;AAAK,IAAA,GAAG,EAAEC,QAAQ,CAACO,GAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAGE,MAAC,UAAD;AAAY,IAAA,OAAO,EAAC,GAApB;AAAwB,IAAA,OAAO,EAAE,CAAjC;AAAoC,IAAA,CAAC,EAAC,IAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,IAAD;AAAM,IAAA,OAAO,EAAEF,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,OAEE,MAAC,UAAD;AAAY,IAAA,OAAO,EAAC,GAApB;AAAwB,IAAA,OAAO,EAAE,CAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGJ,KADH,aACGA,KADH,uBACGA,KAAK,CAAEO,GAAP,CAAW,UAACC,IAAD,EAAU;AACpB,UAAC,IAAD;AAAM,MAAA,OAAO,EAAEA,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACD,GAFA,CADH,CAFF,CAHF,CADF;AAcD,CAxBD;;GAAMZ,I;;KAAAA,I;;AAyCN,eAAeA,IAAf","sourcesContent":["import { Flex, Box, Grid, SimpleGrid } from \"@chakra-ui/layout\";\nimport React, { useState, useEffect } from \"react\";\nimport Articles from \"../components/articles\";\nimport Card from \"../components/card\";\nimport Hero from \"../components/hero\";\nimport Layout from \"../components/layout\";\nimport Seo from \"../components/seo\";\nimport { fetchAPI } from \"../lib/api\";\n\nconst Home = ({ articles, categories, homepage, games }) => {\n  console.log({ games });\n  const [latestArticle, setLatestArticle] = useState(\n    articles[articles.length - 1]\n  );\n  useEffect(() => {\n    setLatestArticle(articles[articles.length - 1]);\n  }, [articles]);\n\n  console.log({ latestArticle, games, articles });\n  return (\n    <Layout categories={categories}>\n      <Seo seo={homepage.seo} />\n      <Hero></Hero>\n      <SimpleGrid columns=\"2\" spacing={8} m=\"16\">\n        <Card article={latestArticle}></Card>;\n        <SimpleGrid columns=\"1\" spacing={4}>\n          {games?.map((game) => {\n            <Card article={game} />;\n          })}\n        </SimpleGrid>\n      </SimpleGrid>\n    </Layout>\n  );\n};\n\nexport async function getStaticProps() {\n  // Run API calls in parallel\n  const [articles, categories, homepage, games] = await Promise.all([\n    fetchAPI(\"/articles?status=published\"),\n    fetchAPI(\"/categories\"),\n    fetchAPI(\"/homepage\"),\n    fetchAPI(\"/games\"),\n  ]);\n\n  return {\n    props: { articles, categories, homepage, games },\n    revalidate: 1,\n  };\n}\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}