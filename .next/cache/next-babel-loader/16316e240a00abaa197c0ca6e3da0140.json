{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport ReactMarkdown from \"react-markdown\";\nimport Moment from \"react-moment\";\nimport { fetchAPI } from \"../../../lib/api\";\nimport Layout from \"../../../common/Layout\";\nimport Pic from \"../../../common/Pic\";\nimport Seo from \"../../../common/Seo\";\nimport { getStrapiMedia } from \"../../../lib/media\";\nimport gfm from \"remark-gfm\";\nimport styled from \"styled-components\";\nimport { Box, Divider, Flex, Text } from \"@chakra-ui/layout\";\nimport { useBreakpointValue } from \"@chakra-ui/media-query\";\nconst ArticleHeader = styled.div`\n  font-size: 44px;\n  color: white;\n  font-weight: 600;\n  background: linear-gradient(\n    90deg,\n    rgba(24, 24, 24, 1) 0%,\n    rgba(33, 33, 33, 1) 35%,\n    rgba(48, 48, 48, 1) 100%\n  );\n  padding: 16px;\n  border: 4px solid white;\n  width: 100%;\n  text-align: center;\n`;\nconst defaultArticle = {\n  image: {},\n  title: \"\",\n  description: \"\",\n  author: {},\n  published_at: \"\",\n  content: \"\"\n};\n\nconst Article = ({\n  article = defaultArticle,\n  categories\n}) => {\n  const imageUrl = getStrapiMedia(article.image);\n  const seo = {\n    metaTitle: article.title,\n    metaDescription: article.description,\n    shareImage: article.image,\n    article: true\n  };\n  const textVariants = useBreakpointValue({\n    base: \"2xl\",\n    xs: \"4xl\",\n    s: \"4xl\",\n    md: \"5xl\",\n    lg: \"5xl\",\n    xl: \"6xl\"\n  });\n  return __jsx(Layout, {\n    categories: categories\n  }, __jsx(Seo, {\n    seo: seo\n  }), __jsx(Flex, {\n    justifyContent: \"center\",\n    alignItems: \"flex-end\",\n    id: \"banner\",\n    h: \"md\",\n    className: \"uk-background-cover\",\n    \"data-src\": imageUrl,\n    \"data-srcset\": imageUrl,\n    \"data-uk-img\": true\n  }, __jsx(Box, {\n    w: \"75%\"\n  }, __jsx(Text, {\n    color: \"brand.400\",\n    as: \"h1\",\n    fontSize: textVariants,\n    fontWeight: \"bolder\",\n    textTransform: \"uppercase\",\n    textAlign: \"start\",\n    m: \"8\",\n    sx: {\n      \"-webkit-backface-visibility\": \"hidden\"\n    }\n  }, article.title))), __jsx(Flex, {\n    py: \"70px\"\n  }, __jsx(Box, {\n    w: \"75%\",\n    m: \"auto\",\n    p: \"4\"\n  }, __jsx(Flex, {\n    className: \"uk-grid-small uk-flex-left\",\n    \"data-uk-grid\": \"true\"\n  }, __jsx(Box, null, article.author.picture && __jsx(Pic, {\n    image: article.author.picture,\n    style: {\n      position: \"static\",\n      borderRadius: \"50%\",\n      height: 30\n    }\n  })), __jsx(Box, {\n    className: \"uk-width-expand\"\n  }, __jsx(\"p\", {\n    className: \"uk-margin-remove-bottom\"\n  }, \"By \", article.author.name), __jsx(\"p\", {\n    className: \"uk-text-meta uk-margin-remove-top\"\n  }, __jsx(Moment, {\n    format: \"MMM Do YYYY\"\n  }, article.published_at)))), __jsx(Divider, {\n    size: \"2px\",\n    variant: \"solid\",\n    m: \"8\"\n  }), __jsx(Box, null, __jsx(ReactMarkdown, {\n    source: article.content,\n    escapeHtml: false,\n    remarkPlugins: [gfm]\n  })), __jsx(\"hr\", {\n    className: \"uk-divider-small\"\n  }))));\n};\n\nexport async function getStaticPaths() {\n  const articles = await fetchAPI(\"/articles\");\n  return {\n    paths: articles.map(article => ({\n      params: {\n        slug: article.slug\n      }\n    })),\n    fallback: false\n  };\n}\nexport async function getStaticProps({\n  params\n}) {\n  console.log({\n    params\n  });\n  const [article] = await fetchAPI(`/articles?slug=${params.slug}&status=published`);\n  const categories = await fetchAPI(\"/categories\");\n  console.log({\n    article,\n    categories\n  });\n  return {\n    props: {\n      article,\n      categories\n    },\n    revalidate: 1\n  };\n}\nexport default Article;","map":null,"metadata":{},"sourceType":"module"}